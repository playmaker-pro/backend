{% extends "admin/base_site.html" %}
{% load i18n admin_urls static admin_modify %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block extrahead %}
    {{ block.super }}
    <style>
        .form-row {
            margin-bottom: 15px;
        }
        
        .form-row label {
            display: inline-block;
            width: 120px;
            font-weight: bold;
        }
        
        .form-row input[type="date"] {
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        
        .export-button {
            background-color: #417690;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .export-button:hover {
            background-color: #205067;
        }
        
        .help-text {
            font-size: 12px;
            margin-top: 5px;
            opacity: 0.7;
        }
    </style>
{% endblock %}

{% block content %}
<div class="content">
    {% if messages %}
        {% for message in messages %}
            <div class="messagelist">
                <div class="message {{ message.tags }}">{{ message }}</div>
            </div>
        {% endfor %}
    {% endif %}
    
    <form method="get" action="">
        <fieldset class="module aligned">
            <h2>Date Range Selection</h2>
            
            <div class="form-row">
                <label for="start_date">Start Date:</label>
                <input type="date" 
                       id="start_date" 
                       name="start_date" 
                       value="{{ request.GET.start_date|default:default_start|date:'Y-m-d' }}" 
                       required>
                <div class="help-text">The first date to include in the export</div>
            </div>
            
            <div class="form-row">
                <label for="end_date">End Date:</label>
                <input type="date" 
                       id="end_date" 
                       name="end_date" 
                       value="{{ request.GET.end_date|default:today|date:'Y-m-d' }}" 
                       required>
                <div class="help-text">The last date to include in the export</div>
            </div>
            
            <div class="form-row">
                <button type="submit" class="export-button">
                    Export CSV
                </button>
            </div>
        </fieldset>
    </form>
</div>
{% endblock %}
