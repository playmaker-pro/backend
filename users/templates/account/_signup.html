{% load i18n %}
  <div class="col-md-6 order-md-1">
    {% with request.GET.role as role %}      
      <form id="signup_form" class="signup-form needs-validation" method="post" action="{% url 'account_signup' %}{% if role %}?role={{role}}{% endif %}">  
      {% csrf_token %}
      <div class="row">
          <div class="mb-3">
            {% if role %}
                <input type="hidden" class="form-control" name="role" id="id_role" value="{{ form.role.value|default_if_none:role }}" required>
            {% else %} 
                <select class="form-control d-block w-100" name="role" id="id_role" value="{{ form.role.value|default_if_none:'' }}" required>
                  <option value="">Wybierz swoją role...</option>
                  <option value="P" {% if role == 'P'%} selected {% endif %}>Piłkarz</option>
                  <option value="T" {% if role == 'T'%} selected {% endif %}>Trener</option>
                </select>
                {{ form.role.errors }}
            {% endif %}
    {% endwith %}   
          </div>
          <div class="col-md-6 mb-3">
            <input type="text" class="form-control" name="first_name" id="id_first_name" value="{{form.first_name.value|default_if_none:'' }}" placeholder="imię" required="">
            {{form.first_name.errors}}
          </div>
          <div class="col-md-6 mb-3">
            <input type="text" class="form-control" name="last_name" id="id_last_name" value="{{form.last_name.value|default_if_none:''}}" placeholder="nazwisko" required>
            {{form.last_name.errors}}
          </div>
        </div>
        
        <div class="mb-3">
            <input type="email" class="form-control" name="email" id="id_email" value="{{form.email.value|default_if_none:''}}" placeholder="email"  required>            
            {{form.email.errors}}
        </div>

        <div class="mb-3">
            <input type="password" class="form-control" name="password1" id="id_password1"  value="{{form.password1.value|default_if_none:''}}" placeholder="hasło" required>
            {{form.password.errors}}
        </div>
        <button class="btn-block" type="submit">ZAKŁADAM DARMOWE KONTO</button>
        <p class="text-right"><small>lub jeżeli masz już konto <a href="{{ login_url }}">zaloguj się</a></small></p>

        <hr class="mb-4">

        <div class="terms custom-control custom-checkbox">
            <input type="checkbox" class="custom-control-input" name="rules" id="id_rules" required hidden checked>
            <label class="custom-control-label" for="id_rules">
                <i class="icofont-law-document"></i> Rejestrując się potwierdzasz, że zapoznałeś się z <a href="@todo" target="_blank">regulaminem PlayMaker.pro</a> oraz akceptujesz jego warunki. </label>
        </div>
          
        <div class="terms custom-control custom-checkbox">
            <input type="checkbox" class="custom-control-input" name="rodo" id="id_rodo" required hidden checked>
            <label class="custom-control-label" for="id_rodo"> 
                <i class="icofont-info-circle"></i> Twoje dane administruje PlayMaker.pro. 
          
                <span class="accordion" id="rodo-terms">
                      <span id="headingOne">
                          <a class="text-left"  data-toggle="collapse" data-target="#rodoCollapse" aria-expanded="true" aria-controls="rodoCollapse">
                            Więcej o ochronie danych<i class="icofont-thin-down"></i>
                          </a>
                        </span>
                  
                      <div id="rodoCollapse" class="collapse" aria-labelledby="headingOne" data-parent="#rodo-terms">
                        <div class="card-body">
                          @todo Anim pariatur cliche reprehenderit, vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.  
                          <a href="@todo" target="_blank">czytaj więcej </a>
                        </div>
                      </div>
                    
                    </span>
            </label>
        </div>
        {% if redirect_field_value %}
            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
        {% endif %}
       
        {{ form.errors }} {# @todo to be removed #}
      </form>
    </div>
